# üöÄ Vite Setup - Archimage

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω **Vite** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–±–æ—Ä–∫–∏
‚úÖ –°–æ–∑–¥–∞–Ω **main.js** - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω **index.html** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Vite
‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω **code splitting** –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω **.gitignore** –¥–ª—è node_modules –∏ dist

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```bash
npm install
```

## üéÆ –ö–æ–º–∞–Ω–¥—ã:

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (dev —Å–µ—Ä–≤–µ—Ä —Å HMR):
```bash
npm run dev
```
–û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:3000 —Å –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞

### Production build:
```bash
npm run build
```
–°–æ–∑–¥–∞—Å—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–±–æ—Ä–∫—É –≤ –ø–∞–ø–∫–µ `dist/`

### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production —Å–±–æ—Ä–∫–∏:
```bash
npm run preview
```

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

### –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- ‚ö° –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞
- üî• Hot Module Replacement (–∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)
- üì¶ ES Modules –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### Production –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- üóúÔ∏è **–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è** –≤—Å–µ—Ö JS –∏ CSS
- üìâ **Tree-shaking** - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞
- üéØ **Code splitting** - —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏:
  - `vendor.js` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Supabase)
  - `battle.js` - –±–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
  - `spells.js` - —Å–∏—Å—Ç–µ–º–∞ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π
  - `city.js` - —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ä–æ–¥–∞
- üö´ **–£–¥–∞–ª–µ–Ω–∏–µ console.log** –≤ production

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- üì¶ –†–∞–∑–º–µ—Ä: **~2MB ‚Üí ~500KB** (—Å gzip)
- ‚ö° –ó–∞–≥—Ä—É–∑–∫–∞: **111 –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí 2-3 –∑–∞–ø—Ä–æ—Å–∞**
- üöÄ –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: **3-5 —Å–µ–∫ ‚Üí 0.5-1 —Å–µ–∫**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:

```
Archimage/
‚îú‚îÄ‚îÄ main.js              # Entry point (–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏)
‚îú‚îÄ‚îÄ index.html           # HTML —Å <script type="module" src="/main.js">
‚îú‚îÄ‚îÄ vite.config.js       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite
‚îú‚îÄ‚îÄ package.json         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ index.html.backup    # –ë—ç–∫–∞–ø —Å—Ç–∞—Ä–æ–≥–æ index.html
‚îú‚îÄ‚îÄ dist/                # Production build (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ npm run build)
‚îî‚îÄ‚îÄ node_modules/        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ npm install)
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞:

- –°—Ç–∞—Ä—ã–π `index.html` —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∫–∞–∫ `index.html.backup`
- –í—Å–µ 111 —Å–∫—Ä–∏–ø—Ç–æ–≤ —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `main.js`
- –°—Ç–∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ `main.js` –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è Vite

## üõ†Ô∏è –î–∞–ª—å–Ω–µ–π—à–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **WebP –∫–∞—Ä—Ç–∏–Ω–∫–∏**: –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ PNG ‚Üí WebP –¥–ª—è 30-50% —ç–∫–æ–Ω–æ–º–∏–∏
2. **Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è –±–æ—è/–∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π
3. **PWA**: Service Worker –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã
4. **Compression**: Gzip/Brotli –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `dist/`
- Dev-—Å–µ—Ä–≤–µ—Ä —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- CDN-—Å–∫—Ä–∏–ø—Ç—ã (Supabase, Telegram) –æ—Å—Ç–∞–ª–∏—Å—å –≤ `<head>`

## üêõ Troubleshooting:

### –û—à–∏–±–∫–∞ "Cannot find module":
```bash
npm install
```

### –ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç:
–ò–∑–º–µ–Ω–∏—Ç–µ –≤ `vite.config.js`:
```js
server: { port: 3001 }
```

### Build –ø–∞–¥–∞–µ—Ç:
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ console.log –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ
