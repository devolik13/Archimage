# Daily Login Rewards & Real Avatars - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç—Ä–∏ –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ NaN —É—Ä–æ–≤–Ω—è** –Ω–∞ –∞–≤–∞—Ç–∞—Ä–µ –∏–≥—Ä–æ–∫–∞
2. üì∏ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤** –∏–∑ Telegram/VK
3. üéÅ **–°–∏—Å—Ç–µ–º–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥** (1-24 —á–∞—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ)

---

## 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ NaN —É—Ä–æ–≤–Ω—è ‚≠ê

### –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ –∞–≤–∞—Ç–∞—Ä–µ –∏–≥—Ä–æ–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è "–£—Ä–æ–≤–µ–Ω—å NaN" –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞.

### –†–µ—à–µ–Ω–∏–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è `userData` –ø–µ—Ä–µ–¥ —Ä–∞—Å—á–µ—Ç–æ–º —É—Ä–æ–≤–Ω—è
- –§—É–Ω–∫—Ü–∏—è `calculatePlayerLevel()` —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –≤ `createPlayerAvatarUI()` –æ—Ç –≤—ã–∑–æ–≤–∞ –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
- `wizards/player-level-system.js`

---

## 2. –†–µ–∞–ª—å–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã –∏–≥—Ä–æ–∫–æ–≤ üì∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ Telegram WebApp
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 24 —á–∞—Å–∞ (–º–∏–Ω–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–≤–∞—Ç–∞—Ä –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ VK (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `initPlayerAvatar()`
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫—ç—à (–µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ < 24 —á–∞—Å–æ–≤ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π URL)
3. –ï—Å–ª–∏ –∫—ç—à —É—Å—Ç–∞—Ä–µ–ª - –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π URL –∏–∑ `Telegram.WebApp.initDataUnsafe.user.photo_url`
4. URL —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î —Å timestamp
5. –ê–≤–∞—Ç–∞—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI (img src)

### Telegram WebApp API
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç URL —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
const photoUrl = window.Telegram.WebApp.initDataUnsafe.user.photo_url;
```

### –§–∞–π–ª—ã
- `database/avatar-manager.js` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞–º–∏
- `wizards/player-level-system.js` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞ –≤ UI

---

## 3. –°–∏—Å—Ç–µ–º–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥ üéÅ

### –ú–µ—Ö–∞–Ω–∏–∫–∞ –Ω–∞–≥—Ä–∞–¥
- **–î–µ–Ω—å 1**: +1 —á–∞—Å –≤—Ä–µ–º–µ–Ω–∏
- **–î–µ–Ω—å 2**: +2 —á–∞—Å–∞ –≤—Ä–µ–º–µ–Ω–∏
- **–î–µ–Ω—å 3**: +3 —á–∞—Å–∞ –≤—Ä–µ–º–µ–Ω–∏
- ...
- **–î–µ–Ω—å 24**: +24 —á–∞—Å–∞ –≤—Ä–µ–º–µ–Ω–∏
- **–î–µ–Ω—å 25+**: –≤—Å–µ–≥–¥–∞ +24 —á–∞—Å–∞ (–º–∞–∫—Å–∏–º—É–º)

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
‚úÖ **–ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è** –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –ø—Ä–æ–ø—É—Å—Ç–∏–ª –¥–µ–Ω—å
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–π –¥–∞—Ç–µ (–Ω–µ –ø–æ 24-—á–∞—Å–æ–≤–æ–º—É —Ç–∞–π–º–µ—Ä—É)
‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ–¥–∞–ª–∫–∞ —Å –ø–æ–¥–∞—Ä–∫–æ–º
‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
‚úÖ –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ
if (isNewDay(lastLoginDate)) {
    day += 1; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –¥–Ω—è
    const hours = Math.min(day, 24); // –ú–∞–∫—Å 24 —á–∞—Å–∞
    addTimeCurrency(hours * 60); // –î–æ–±–∞–≤–ª—è–µ–º –º–∏–Ω—É—Ç—ã
    showDailyRewardModal(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–≥—Ä–∞–¥—É
}
```

### –§–∞–π–ª—ã
- `city/daily-login-rewards.js` - –≤—Å—è –ª–æ–≥–∏–∫–∞ –∏ UI –º–æ–¥–∞–ª–∫–∏
- `database/game-db-integration.js` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

---

## üóÑÔ∏è –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –§–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏
`database/migrations/004_add_daily_rewards_and_avatars.sql`

### –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `players`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `daily_login` | JSONB | `{"day": 1, "last_login_date": "ISO", "total_logins": 0}` |
| `avatar_url` | TEXT | –ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URL –∞–≤–∞—Ç–∞—Ä–∞ |
| `avatar_updated_at` | TIMESTAMP | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–∞ |
| `platform` | VARCHAR(20) | 'telegram' –∏–ª–∏ 'vk' |
| `vk_id` | BIGINT | VK user ID (–¥–ª—è –±—É–¥—É—â–µ–≥–æ) |

### –ò–Ω–¥–µ–∫—Å—ã
```sql
CREATE UNIQUE INDEX idx_telegram_id ON players(telegram_id) WHERE telegram_id IS NOT NULL;
CREATE UNIQUE INDEX idx_vk_id ON players(vk_id) WHERE vk_id IS NOT NULL;
```

### –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

#### –í–∞—Ä–∏–∞–Ω—Ç 1: Supabase Dashboard (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –û—Ç–∫—Ä–æ–π Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **SQL Editor**
3. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
4. –°–∫–æ–ø–∏—Ä—É–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `004_add_daily_rewards_and_avatars.sql`
5. –ù–∞–∂–º–∏ **Run**

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Supabase CLI
```bash
supabase db push
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
```bash
psql -h your-project.supabase.co -U postgres -d postgres -f database/migrations/004_add_daily_rewards_and_avatars.sql
```

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–¥

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ (game-db-integration.js)
```javascript
1. loadGameData()
2. initTimeCurrency()
3. initPlayerAvatar()     // ‚Üê –ù–æ–≤–æ–µ: –∑–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞
4. checkDailyLoginReward() // ‚Üê –ù–æ–≤–æ–µ: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≥—Ä–∞–¥—ã
5. initBattleEnergyUI()
6. ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
```

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ index.html
```html
<!-- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö -->
<script src="database/avatar-manager.js"></script>

<!-- –ì–æ—Ä–æ–¥ -->
<script src="city/daily-login-rewards.js"></script>
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ NaN –±–∞–≥–∞
1. –ó–∞–≥—Ä—É–∑–∏ –∏–≥—Ä—É
2. –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –∞–≤–∞—Ç–∞—Ä –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (—á–∏—Å–ª–æ), –∞ –Ω–µ NaN

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞
1. –ó–∞–≥—Ä—É–∑–∏ –∏–≥—Ä—É —á–µ—Ä–µ–∑ Telegram Mini App
2. –ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è –≤ Telegram - –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
3. –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–æ—Ç–æ - –ø–æ–∫–∞–∂–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –∞–≤–∞—Ç–∞—Ä
4. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å: `üì∏ –ê–≤–∞—Ç–∞—Ä –ø–æ–ª—É—á–µ–Ω –∏–∑ Telegram WebApp`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –Ω–∞–≥—Ä–∞–¥—ã
1. –ó–∞–≥—Ä—É–∑–∏ –∏–≥—Ä—É –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ —Å–µ–≥–æ–¥–Ω—è
2. –î–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –º–æ–¥–∞–ª–∫–∞ —Å –ø–æ–¥–∞—Ä–∫–æ–º üéÅ
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Ä–µ–º—è –¥–æ–±–∞–≤–∏–ª–æ—Å—å (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ –∏–≥—Ä—É –≤ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å - –Ω–∞–≥—Ä–∞–¥—ã –Ω–µ –±—É–¥–µ—Ç
5. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å: `üéÅ –î–µ–Ω—å N: –Ω–∞–≥—Ä–∞–¥–∞ X —á–∞—Å–æ–≤`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –Ω–∞–≥—Ä–∞–¥
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –≤ –∫–æ–Ω—Å–æ–ª–∏:
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
window.userData.daily_login.last_login_date = "2025-11-17T00:00:00Z";
window.checkDailyLoginReward();
```

---

## üéØ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### VK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è VK –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è:
1. VK API —Ç–æ–∫–µ–Ω
2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `getVKAvatarUrl()` –≤ avatar-manager.js
3. VK SDK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ index.html
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ onboarding –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã
–ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞–≥—Ä–∞–¥:
- –ë–æ–Ω—É—Å—ã –∑–∞ X –ø–æ–¥—Ä—è–¥ –¥–Ω–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏
- –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–¥–æ–≤
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞ milestone –¥–Ω–∏ (10, 30, 100 –¥–Ω–µ–π)

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### userData.daily_login (JSONB)
```json
{
  "day": 5,                           // –¢–µ–∫—É—â–∏–π –¥–µ–Ω—å –Ω–∞–≥—Ä–∞–¥—ã (1-24+)
  "last_login_date": "2025-11-18T10:30:00.000Z",  // ISO –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞
  "total_logins": 5                   // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–¥–æ–≤
}
```

### userData.avatar_url (TEXT)
```
"https://t.me/i/userpic/320/photo.jpg"
```

### userData.avatar_updated_at (TIMESTAMP)
```
"2025-11-18T10:30:00.000Z"
```

---

## ‚ùì FAQ

**Q: –ß—Ç–æ –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –ø—Ä–æ–ø—É—Å—Ç–∏–ª –¥–µ–Ω—å?**
A: –ù–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ! –ü—Ä–æ–≥—Ä–µ—Å—Å –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è. –ù–∞ —Å–ª–µ–¥—É—é—â–∏–π –≤—Ö–æ–¥ –ø–æ–ª—É—á–∏—Ç –Ω–∞–≥—Ä–∞–¥—É —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è.

**Q: –ß—Ç–æ –ø–æ—Å–ª–µ 24-–≥–æ –¥–Ω—è?**
A: –í—Å–µ–≥–¥–∞ 24 —á–∞—Å–∞. –°—á–µ—Ç—á–∏–∫ –¥–Ω—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞—Å—Ç–∏ (25, 26, 27...), –Ω–æ –Ω–∞–≥—Ä–∞–¥–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –º–∞–∫—Å–∏–º—É–º–µ.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É –¥–≤–∞–∂–¥—ã –≤ –æ–¥–∏–Ω –¥–µ–Ω—å?**
A: –ù–µ—Ç. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–¥–µ—Ç –ø–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–π –¥–∞—Ç–µ. –î–∞–∂–µ –µ—Å–ª–∏ –∑–∞–π—Ç–∏ –≤ 23:59 –∏ –≤ 00:01 - —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ –¥–Ω–∏.

**Q: –ß—Ç–æ –µ—Å–ª–∏ –∞–≤–∞—Ç–∞—Ä –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è?**
A: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –∞–≤–∞—Ç–∞—Ä —Å emoji üë§.

**Q: –ö–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤–∞—Ç–∞—Ä?**
A: –†–∞–∑ –≤ 24 —á–∞—Å–∞. –≠—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –∏ –∑–∞–ø—Ä–æ—Å—ã –∫ Telegram API.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∞–≤–∞—Ç–∞—Ä?**
A: –î–∞, –≤—ã–∑–æ–≤–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏: `window.forceUpdateAvatar()`

---

## üìù –ö–æ–º–º–∏—Ç—ã

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–∏—Ç—ã:

1. `be4bcd8` - Fix NaN level display on player avatar
2. `3ef0ba8` - Add real player avatar support from Telegram/VK
3. `55ffeea` - Add daily login reward system (1-24 hours progressive)
4. `16fe6de` - Add database migration for daily rewards and avatars

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é `004_add_daily_rewards_and_avatars.sql` –≤ Supabase
- [ ] –ó–∞–ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ production
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ Telegram
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —É—Ä–æ–≤–µ–Ω—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∞–≤–∞—Ç–∞—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–∞–≥—Ä–∞–¥–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ –æ–¥–∏–Ω –¥–µ–Ω—å
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í—Å–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å:
1. –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. Supabase –ª–æ–≥–∏
3. –ß—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
4. –ß—Ç–æ –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ index.html

**–í–µ—Ä—Å–∏—è:** 1.0.0
**–î–∞—Ç–∞:** 2025-11-18
**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** Telegram Mini Apps, –±—É–¥—É—â–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ VK
